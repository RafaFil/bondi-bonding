<form class="bb-landing-form"
  [formGroup]="loginForm"
  (ngSubmit)="handleLoginSubmit()">

  <div *ngIf="isLoading" class="row justify-content-center mt-5">
    <mat-spinner color="primary"></mat-spinner>
    <span class="bb-flex-center bb-text-green bb-landing-top-text mt-5">Signing in...</span>
  </div>

  <div *ngIf="!isLoading" class="row">

    <div class="bb-flex-center bb-text-green bb-landing-top-text">
      Log in
    </div>

    <div class="bb-flex-center">
      <mat-form-field class="bb-w-100"
        appearance="outline"
        [hideRequiredMarker]="true"
        color="primary">
        <mat-icon matPrefix class="bb-input-icon" color="primary">person</mat-icon>
        <mat-label>Username</mat-label>
        <input matInput [formControl]="usernameControl" (input)="resetFailedAuth()">
        <mat-error>
          Username must have 4 characters or more
        </mat-error>
      </mat-form-field>
    </div>

    <div class="bb-flex-center">
      <mat-form-field
        class="bb-w-100"
        appearance="outline"
        [hideRequiredMarker]="true"
        color="primary">
        <mat-icon matPrefix class="bb-input-icon" color="primary">lock</mat-icon>
        <mat-label>Password</mat-label>
        <input matInput type="password" [formControl]="passwordControl" (input)="resetFailedAuth()">
        <mat-error>
          Password must have 8 characters or more
        </mat-error>
      </mat-form-field>
    </div>

    <p class="text-danger bb-flex-center my-2" *ngIf="isFailedAuth">Username or password are incorrect. Please try again.</p>

    <div class="bb-flex-center bb-submit-button-margin">
      <div class="bb-w-100">
        <button mat-raised-button
          class="bb-btn bb-landing-submit-button"
          color="primary"
          [disabled]="!loginForm.valid">LOG IN</button>
        <p class="bb-login-forgot-password-text">
          <a class="bb-link-text"
            routerLink="/resetPassword"
          >Forgot password?
          </a>
        </p>
        <p class="bb-singup-text">
          Don't have an account? <a routerLink="/signup">Create one</a>
        </p>
      </div>
    </div>

  </div>

</form>
